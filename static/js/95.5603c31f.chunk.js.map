{"version":3,"file":"static/js/95.5603c31f.chunk.js","mappings":"oGAAeA,eAAeC,EAAYC,GAAsB,IAArB,MAAEC,EAAK,QAAEC,GAASF,EAC3D,MAAMG,QAAYC,MAAM,kEAADC,OAC6CJ,GAClEC,GAEII,QAAqBH,EAAII,OAC/B,IAAKJ,EAAIK,GACP,MAAM,IAAIC,MAAMH,GAElB,OAAOA,CACT,C,oLCDe,SAASI,IAAuB,IAADC,EAAAC,EAC5C,MAAM,UAAEC,EAAS,gBAAEC,IAAoBC,EAAAA,EAAAA,KACjCC,GAAcC,EAAAA,EAAAA,YAAWC,EAAAA,KAI7BC,KAAMC,EACNC,UAAWC,EACXC,QAASC,IACPC,EAAAA,EAAAA,GAAS,CACXC,SAAUC,EAAAA,GAAUC,SAASC,IAAI,GAADxB,OAAIQ,EAAS,KAAAR,OAAIW,EAAYc,YAC7DC,QAASA,ICpBEjC,eAA4BE,GAAsB,IAArB,MAAEC,EAAK,QAAEC,GAASF,EAC5D,MAAMG,QAAYC,MAAM,kEAADC,OAC6CJ,GAClE,CACEC,YAGEI,QAAqBH,EAAII,OAC/B,IAAKJ,EAAIK,GACP,MAAM,IAAIC,MAAMH,GAElB,OAAOA,CACT,CDSM0B,CAAc,CACZ9B,QAAS,CACP+B,cAAc,UAAD5B,OAAYW,EAAYc,YAEvC7B,MAAM,GAADI,OAAKS,EAAe,KAAAT,OAAIQ,QAMjCM,KAAMe,EACNb,UAAWc,EACXZ,QAASa,IACPX,EAAAA,EAAAA,GAAS,CACXC,SAAUC,EAAAA,GAAUU,QAAQR,IAAIf,GAChCiB,QAASA,KACPhC,EAAAA,EAAAA,GAAa,CACXG,QAAS,CACP+B,cAAc,UAAD5B,OAAYW,EAAYc,YAEvC7B,MAAOa,MAIb,GAAIQ,GAAoBa,EAAqB,OAAO,KAC/C,GAAIX,GAAkBY,EAAmB,OAAO,KAErD,MAAME,GACO,OAAXlB,QAAW,IAAXA,GAAqB,QAAVT,EAAXS,EAAaQ,gBAAQ,IAAAjB,OAAV,EAAXA,EAAuB4B,WACpBC,IAAI,IAAAC,EAAA,OAAS,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAME,OAAkB,OAAXtB,QAAW,IAAXA,GAAoB,QAATqB,EAAXrB,EAAauB,eAAO,IAAAF,OAAT,EAAXA,EAAsBC,IAAG,KAC9C,EACN,OACEE,EAAAA,EAAAA,MAACC,EAAAA,GAAmBC,SAAQ,CAC1BC,MAAO,CACL3B,aAAW4B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACN5B,GAAW,IACdkB,kBAEFJ,WAAYA,GACZe,SAAA,EAEFC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAAAF,UACLC,EAAAA,EAAAA,KAAA,SAAAD,UAAmB,OAAX7B,QAAW,IAAXA,GAAoB,QAATR,EAAXQ,EAAauB,eAAO,IAAA/B,OAAT,EAAXA,EAAsBwC,QAAS,QAEzCF,EAAAA,EAAAA,KAACG,EAAAA,GAAW,IAAG,MAGrB,C","sources":["api/get/courses/getOneCourse.js","container/pagesContainer/SessionInfoContainer.js","api/get/sessions/getOneSession.js"],"sourcesContent":["export default async function getOneCourse({ param, headers }) {\n  const res = await fetch(\n    `https://codelearn-backend-production.up.railway.app/v1/courses/${param}`,\n    headers\n  );\n  const jsonResponse = await res.json();\n  if (!res.ok) {\n    throw new Error(jsonResponse);\n  }\n  return jsonResponse;\n}\n","import { useContext } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useParams } from \"react-router-dom\";\nimport { SessionInfo } from \"../../pages\";\nimport { AuthContext } from \"../../context\";\nimport { queryKeys } from \"../../libs/reactQuery\";\nimport { getOneCourse, getOneSession } from \"../../api\";\nimport { SessionInfoContext } from \"../../context/pageContext\";\nimport { Helmet } from \"react-helmet\";\nexport default function CourseInfoContainer() {\n  const { sessionId, courseShortName } = useParams(); // sessionId and courseShortName to get data <<\n  const authContext = useContext(AuthContext); // context to send token to server <<\n\n  const {\n    // get sessionInfo to show data in this page .\n    data: sessionInfo,\n    isLoading: sessionIsLoading,\n    isError: sessionIsError,\n  } = useQuery({\n    queryKey: queryKeys.sessions.one(`${sessionId},${authContext.userToken}`),\n    queryFn: () =>\n      getOneSession({\n        headers: {\n          Authorization: `Bearer ${authContext.userToken}`,\n        },\n        param: `${courseShortName}/${sessionId}`, // like -> npm/23423h4k23j4b\n      }),\n  });\n  const {\n    // get courseInfo to show courseInfo related to this sessionInfo in this page\n    // (this is a problem that presure me to get a course from server insted of use session info properties).\n    data: courseInfo,\n    isLoading: courseInfoIsLoading,\n    isError: courseInfoIsError,\n  } = useQuery({\n    queryKey: queryKeys.courses.one(courseShortName),\n    queryFn: () =>\n      getOneCourse({\n        headers: {\n          Authorization: `Bearer ${authContext.userToken}`,\n        },\n        param: courseShortName,\n      }),\n  });\n\n  if (sessionIsLoading || courseInfoIsLoading) return null;\n  else if (sessionIsError || courseInfoIsError) return null;\n\n  const sessionNumber =\n    sessionInfo?.sessions?.findIndex(\n      (item) => item?._id == sessionInfo?.session?._id\n    ) + 1;\n  return (\n    <SessionInfoContext.Provider\n      value={{\n        sessionInfo: {\n          ...sessionInfo,\n          sessionNumber,\n        },\n        courseInfo: courseInfo,\n      }}\n    >\n      <Helmet>\n        <title>{sessionInfo?.session?.title || \"\"}</title>\n      </Helmet>\n      <SessionInfo />;\n    </SessionInfoContext.Provider>\n  );\n}\n","export default async function getOneSession({ param, headers }) {\n  const res = await fetch(\n    `https://codelearn-backend-production.up.railway.app/v1/courses/${param}`,\n    {\n      headers,\n    }\n  );\n  const jsonResponse = await res.json();\n  if (!res.ok) {\n    throw new Error(jsonResponse);\n  }\n  return jsonResponse;\n}\n"],"names":["async","getOneCourse","_ref","param","headers","res","fetch","concat","jsonResponse","json","ok","Error","CourseInfoContainer","_sessionInfo$sessions","_sessionInfo$session2","sessionId","courseShortName","useParams","authContext","useContext","AuthContext","data","sessionInfo","isLoading","sessionIsLoading","isError","sessionIsError","useQuery","queryKey","queryKeys","sessions","one","userToken","queryFn","getOneSession","Authorization","courseInfo","courseInfoIsLoading","courseInfoIsError","courses","sessionNumber","findIndex","item","_sessionInfo$session","_id","session","_jsxs","SessionInfoContext","Provider","value","_objectSpread","children","_jsx","Helmet","title","SessionInfo"],"sourceRoot":""}