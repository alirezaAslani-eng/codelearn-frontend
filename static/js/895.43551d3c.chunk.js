"use strict";(self.webpackChunkcodelearn=self.webpackChunkcodelearn||[]).push([[895],{3895:(e,n,o)=>{o.r(n),o.d(n,{default:()=>v});var s=o(1675),t=o(5043),r=o(8700),i=o(1487);async function a(e){let{body:n}=e;if(!n)throw new Error("you might didn't send body as a prop");const o=await fetch("https://codelearn-backend-production.up.railway.app/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),s=await o.json();if(!o.ok)throw{response:s,result:!1};return{response:s,result:!0}}var l=o(7097);const c=()=>{const{mutate:e,mutateAsync:n}=(0,l.n)({mutationFn:a});return{loginUser:e,loginUserAsync:n}};var d=o(8604),u=o(9498),p=o(3771),h=o(579);function v(){const{loginUserAsync:e}=c(),n=(0,s.Zp)(),o=(0,t.useContext)(d.cy),{addError:a}=(0,t.useContext)(u.TR),l=(0,t.useCallback)((async s=>{try{await e({body:{identifier:null===s||void 0===s?void 0:s.email,password:null===s||void 0===s?void 0:s.password}},{onSuccess:e=>{var s;o.login(null===(s=e.response)||void 0===s?void 0:s.accessToken),n("/"+p.gZ.root)},onError:e=>{var n;a({text:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.message)||(null===e||void 0===e?void 0:e.response)||"\u0645\u0634\u06a9\u0644\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 !"})}})}catch(t){console.log(t)}}),[]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.TO,{children:(0,h.jsx)("div",{className:"min-h-screen text-dark dark:text-light flex justify-center items-center px-4",children:(0,h.jsx)("section",{className:"w-[min(400px,100%)]",children:(0,h.jsx)(i.lV,{loginForm:!0,schema:r.k8,onSubmit:l,title:"\u0648\u0631\u0648\u062f \u0628\u0647 \u06a9\u062f \u0644\u0631\u0646",subTitle:"\u062e\u0648\u0634 \u0627\u0648\u0645\u062f\u06cc !"})})})})})}}}]);
//# sourceMappingURL=895.43551d3c.chunk.js.map