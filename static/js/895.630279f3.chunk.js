"use strict";(self.webpackChunkcodelearn=self.webpackChunkcodelearn||[]).push([[895],{3895:(e,n,s)=>{s.r(n),s.d(n,{default:()=>v});var o=s(1675),t=s(5043),r=s(8700),i=s(1487);async function a(e){let{body:n}=e;if(!n)throw new Error("you might didn't send body as a prop");const s=await fetch("https://alireza-eng.ir/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=await s.json();if(!s.ok)throw{response:o,result:!1};return{response:o,result:!0}}var l=s(7097);const c=()=>{const{mutate:e,mutateAsync:n}=(0,l.n)({mutationFn:a});return{loginUser:e,loginUserAsync:n}};var d=s(8604),u=s(9498),h=s(3771),p=s(579);function v(){const{loginUserAsync:e}=c(),n=(0,o.Zp)(),s=(0,t.useContext)(d.cy),{addError:a}=(0,t.useContext)(u.TR),l=(0,t.useCallback)((async o=>{try{await e({body:{identifier:null===o||void 0===o?void 0:o.email,password:null===o||void 0===o?void 0:o.password}},{onSuccess:e=>{var o;s.login(null===(o=e.response)||void 0===o?void 0:o.accessToken),n("/"+h.gZ.root)},onError:e=>{var n;a({text:(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.message)||(null===e||void 0===e?void 0:e.response)||"\u0645\u0634\u06a9\u0644\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 !"})}})}catch(t){console.log(t)}}),[]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(i.TO,{children:(0,p.jsx)("div",{className:"min-h-screen text-dark dark:text-light flex justify-center items-center px-4",children:(0,p.jsx)("section",{className:"w-[min(400px,100%)]",children:(0,p.jsx)(i.lV,{loginForm:!0,schema:r.k8,onSubmit:l,title:"\u0648\u0631\u0648\u062f \u0628\u0647 \u06a9\u062f \u0644\u0631\u0646",subTitle:"\u062e\u0648\u0634 \u0627\u0648\u0645\u062f\u06cc !"})})})})})}}}]);
//# sourceMappingURL=895.630279f3.chunk.js.map