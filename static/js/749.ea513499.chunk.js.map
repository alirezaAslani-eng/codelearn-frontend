{"version":3,"file":"static/js/749.ea513499.chunk.js","mappings":"yLAAeA,eAAeC,EAAWC,GAAY,IAAX,KAAEC,GAAMD,EAChD,IAAKC,EAAM,MAAM,IAAIC,MAAM,wCAC3B,MAAMC,QAAYC,MAAM,0CAA2C,CACjEC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BL,KAAMM,KAAKC,UAAUP,KAEjBQ,QAAqBN,EAAIO,OAC/B,IAAKP,EAAIQ,GACP,KAAM,CAAEC,SAAUH,EAAcI,QAAQ,GAE1C,MAAO,CAAED,SAAUH,EAAcI,QAAQ,EAC3C,C,cCVA,MAQA,EAR2BC,KAEzB,MAAM,OAAEC,EAAM,YAAEC,IAAgBC,EAAAA,EAAAA,GAAY,CAC1CC,WAAYnB,IAEd,MAAO,CAAEoB,WAAYJ,EAAQK,gBAAiBJ,EAAa,E,qDCO9C,SAASK,IAEtB,MAAM,gBAAED,GAAoBN,IACtBQ,GAAcC,EAAAA,EAAAA,YAAWC,EAAAA,KACzB,SAAEC,IAAaF,EAAAA,EAAAA,YAAWG,EAAAA,IAC1BC,GAAaC,EAAAA,EAAAA,MAEbC,GAAYC,EAAAA,EAAAA,cAAYhC,UAE5B,UACQsB,EACJ,CAAEnB,MAAI8B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAOC,GAAI,IAAEC,gBAAqB,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAME,YAE1C,CACEC,UAAYC,IAAa,IAADC,EAAAC,EACtBhB,EAAYiB,MACM,QADDF,EACfD,EAAQxB,gBAAQ,IAAAyB,OAAA,EAAhBA,EAAkBG,YACF,QADaF,EAC7BF,EAAQxB,gBAAQ,IAAA0B,OAAA,EAAhBA,EAAkBG,MAEpBd,EAAW,IAAMe,EAAAA,GAAKC,KAAK,EAE7BC,QAAUC,IAAS,IAADC,EAChBrB,EAAS,CACPsB,MACK,OAAHF,QAAG,IAAHA,GAAa,QAAVC,EAAHD,EAAKjC,gBAAQ,IAAAkC,OAAV,EAAHA,EAAeE,WAAc,OAAHH,QAAG,IAAHA,OAAG,EAAHA,EAAKjC,WAAY,0EAC7C,GAIV,CAAE,MAAOiC,GAAM,KAEjB,OACEI,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAACG,EAAAA,GAAkB,CAAAD,UAEjBF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,oDAAmDF,UAChEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,sBAAqBF,UAClCF,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CACHC,cAAc,EACdC,OAAQC,EAAAA,GACRC,SAAU7B,EACV8B,MAAM,wCACNC,SAAS,mIAOvB,C","sources":["api/post/postOneUser.js","hooks/callApi/post/useCallPostOneUser.js","pages/Register/Register.js"],"sourcesContent":["export default async function postOneUser({ body }) {\n  if (!body) throw new Error(\"you might didn't send body as a prop\");\n  const res = await fetch(\"https://alireza-eng.ir/v1/auth/register\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(body),\n  });\n  const jsonResponse = await res.json();\n  if (!res.ok) {\n    throw { response: jsonResponse, result: false };\n  }\n  return { response: jsonResponse, result: true };\n}\n","import { postOneUser } from \"../../../api\";\nimport { useMutation } from \"@tanstack/react-query\";\nconst useCallPostOneUser = () => {\n  // this hook responsible for cali api to create a user .\n  const { mutate, mutateAsync } = useMutation({\n    mutationFn: postOneUser,\n  });\n  return { createUser: mutate, createUserAsync: mutateAsync };\n};\n\nexport default useCallPostOneUser;\n","import { useCallback, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n/// component --- >\nimport { BlurPageBackGround, Form } from \"../../components/Ui\";\n// framer-motion -->\n// constant -- >\nimport { registerValidations } from \"../../constant/form\";\n// hook -- >\nimport { useCallPostOneUser } from \"../../hooks/callApi\";\n// Context -- >\nimport { AuthContext } from \"../../context\";\nimport { CornerIcon } from \"../../assist/svg\";\nimport { ShowErrorContext } from \"../../context/ShowErrorContext\";\nimport { Main } from \"../../routes/clientPath\";\nexport default function Register() {\n  // hook -- >\n  const { createUserAsync } = useCallPostOneUser();\n  const authContext = useContext(AuthContext);\n  const { addError } = useContext(ShowErrorContext);\n  const navigateor = useNavigate();\n\n  const submiting = useCallback(async (form) => {\n    // use Async because <Form/> shoud get a Async method to handle disabled form while submiting .\n    try {\n      await createUserAsync(\n        { body: { ...form, confirmPassword: form?.password } }, // Body request .\n        // Response :\n        {\n          onSuccess: (success) => {\n            authContext.login(\n              success.response?.accessToken,\n              success.response?.user\n            );\n            navigateor(\"/\" + Main.root);\n          },\n          onError: (err) => {\n            addError({\n              text:\n                err?.response?.message || err?.response || \"مشکلی رخ داده !\",\n            });\n          },\n        }\n      );\n    } catch (err) {}\n  });\n  return (\n    <>\n      <BlurPageBackGround>\n        {/* Register  Form */}\n        <div className=\"flex items-center justify-center min-h-screen p-5\">\n          <div className=\"w-[min(400px,100%)]\">\n            <Form\n              registerForm={true}\n              schema={registerValidations}\n              onSubmit={submiting}\n              title=\"ثبت نام\"\n              subtitle=\"به کد لرن خوش اومدی عزیز\"\n            />\n          </div>\n        </div>\n      </BlurPageBackGround>\n    </>\n  );\n}\n"],"names":["async","postOneUser","_ref","body","Error","res","fetch","method","headers","JSON","stringify","jsonResponse","json","ok","response","result","useCallPostOneUser","mutate","mutateAsync","useMutation","mutationFn","createUser","createUserAsync","Register","authContext","useContext","AuthContext","addError","ShowErrorContext","navigateor","useNavigate","submiting","useCallback","_objectSpread","form","confirmPassword","password","onSuccess","success","_success$response","_success$response2","login","accessToken","user","Main","root","onError","err","_err$response","text","message","_jsx","_Fragment","children","BlurPageBackGround","className","Form","registerForm","schema","registerValidations","onSubmit","title","subtitle"],"sourceRoot":""}