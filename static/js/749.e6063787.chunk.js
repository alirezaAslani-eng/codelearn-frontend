"use strict";(self.webpackChunkcodelearn=self.webpackChunkcodelearn||[]).push([[749],{7749:(e,s,n)=>{n.r(s),n.d(s,{default:()=>m});var r=n(2555),t=n(5043),o=n(1675),a=n(1487),i=n(8700);async function c(e){let{body:s}=e;if(!s)throw new Error("you might didn't send body as a prop");const n=await fetch("https://codelearn-backend-production.up.railway.app/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await n.json();if(!n.ok)throw{response:r,result:!1};return{response:r,result:!0}}var d=n(7097);const l=()=>{const{mutate:e,mutateAsync:s}=(0,d.n)({mutationFn:c});return{createUser:e,createUserAsync:s}};var u=n(8604),p=(n(4646),n(9498)),v=n(3771),h=n(579);function m(){const{createUserAsync:e}=l(),s=(0,t.useContext)(u.cy),{addError:n}=(0,t.useContext)(p.TR),c=(0,o.Zp)(),d=(0,t.useCallback)((async t=>{try{await e({body:(0,r.A)((0,r.A)({},t),{},{confirmPassword:null===t||void 0===t?void 0:t.password})},{onSuccess:e=>{var n,r;s.login(null===(n=e.response)||void 0===n?void 0:n.accessToken,null===(r=e.response)||void 0===r?void 0:r.user),c("/"+v.gZ.root)},onError:e=>{var s;n({text:(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.message)||(null===e||void 0===e?void 0:e.response)||"\u0645\u0634\u06a9\u0644\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 !"})}})}catch(o){}}));return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.TO,{children:(0,h.jsx)("div",{className:"flex items-center justify-center min-h-screen p-5",children:(0,h.jsx)("div",{className:"w-[min(400px,100%)]",children:(0,h.jsx)(a.lV,{registerForm:!0,schema:i.KY,onSubmit:d,title:"\u062b\u0628\u062a \u0646\u0627\u0645",subtitle:"\u0628\u0647 \u06a9\u062f \u0644\u0631\u0646 \u062e\u0648\u0634 \u0627\u0648\u0645\u062f\u06cc \u0639\u0632\u06cc\u0632"})})})})})}}}]);
//# sourceMappingURL=749.e6063787.chunk.js.map