"use strict";(self.webpackChunkcodelearn=self.webpackChunkcodelearn||[]).push([[749],{7749:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var n=r(2555),t=r(5043),o=r(1675),a=r(1487),i=r(8700);async function c(e){let{body:s}=e;if(!s)throw new Error("you might didn't send body as a prop");const r=await fetch("https://alireza-eng.ir/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),n=await r.json();if(!r.ok)throw{response:n,result:!1};return{response:n,result:!0}}var l=r(7097);const d=()=>{const{mutate:e,mutateAsync:s}=(0,l.n)({mutationFn:c});return{createUser:e,createUserAsync:s}};var u=r(8604),p=(r(4646),r(9498)),v=r(3771),h=r(579);function m(){const{createUserAsync:e}=d(),s=(0,t.useContext)(u.cy),{addError:r}=(0,t.useContext)(p.TR),c=(0,o.Zp)(),l=(0,t.useCallback)((async t=>{try{await e({body:(0,n.A)((0,n.A)({},t),{},{confirmPassword:null===t||void 0===t?void 0:t.password})},{onSuccess:e=>{var r,n;s.login(null===(r=e.response)||void 0===r?void 0:r.accessToken,null===(n=e.response)||void 0===n?void 0:n.user),c("/"+v.gZ.root)},onError:e=>{var s;r({text:(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.message)||(null===e||void 0===e?void 0:e.response)||"\u0645\u0634\u06a9\u0644\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 !"})}})}catch(o){}}));return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(a.TO,{children:(0,h.jsx)("div",{className:"flex items-center justify-center min-h-screen p-5",children:(0,h.jsx)("div",{className:"w-[min(400px,100%)]",children:(0,h.jsx)(a.lV,{registerForm:!0,schema:i.KY,onSubmit:l,title:"\u062b\u0628\u062a \u0646\u0627\u0645",subtitle:"\u0628\u0647 \u06a9\u062f \u0644\u0631\u0646 \u062e\u0648\u0634 \u0627\u0648\u0645\u062f\u06cc \u0639\u0632\u06cc\u0632"})})})})})}}}]);
//# sourceMappingURL=749.ea513499.chunk.js.map